# Программа обучения для достижения уровня Middle Rust Backend Developer

Программа рассчитана на **24 недели** при нагрузке **12 часов/неделю** (8 часов теория/практика + 4 часа на сквозной проект).

**Ключевые принципы:**

- **Learning by Doing:** 70% практики, 30% теории.
- **Сквозной проект:** Постепенное создание высоконагруженного сервиса для трекинга задач (Task Tracker).
- **Production-Oriented:** Фокус на инструментах из реальных продакшн-кейсов.
- **Pain First:** Сначала изучаем сложные темы (async, lifetimes), потом применяем.

---

## **Программа (24 недели, 3 модуля)**

**Сквозной проект:** `Task Tracker` (REST API → WebSockets → Async Workers → Мониторинг). Каждый модуль расширяет функционал.

---

### **Модуль 1: Rust Core & Backend Basics** (8 недель)

**Цель:** Свободное владение Rust + базовый HTTP-сервер.

#### [**Недели 1-2: Rust Essentials**](./module_1/1-2_week/rust-essentials.md)

- Ownership, Borrowing, Lifetimes (упор на паттерны избегания `clone()`).
- Практика: Написать CLI-парсер логов с подсчётом статистики.  
  _Задание:_ Реализовать механизм кеширования с проверкой на dangling references.

#### **Недели 3-4: Error Handling & Project Structure**

- `thiserror`, `anyhow`, проектирование слоистой архитектуры (Domain/App/Infrastructure).
- Практика: Интеграция с внешним API (например, погода) с обработкой ошибок сети/парсинга.  
  _Задание для проекта:_ Добавить в `Task Tracker` валидацию входящих данных и кастомные ошибки.

#### **Недели 5-6: Concurrency Basics**

- `std::thread`, каналы (`mpsc`), `Arc`/`Mutex`.
- Практика: Многопоточный HTTP-краулер.  
  _Задание:_ Добавить фоновую очистку просроченных задач в `Task Tracker`.

#### **Недели 7-8: HTTP Servers (REST)**

- Фреймворки: `axum` (или `actix-web`), роутинг, миддлвары.
- Практика: REST API для `Task Tracker` (CRUD задач).  
  _Итог модуля:_ Сервис с авторизацией, валидацией, логированием.

---

### **Модуль 2: Production-Ready Backend** (10 недель)

**Цель:** Системное проектирование, работа с данными, асинхронность. 5. **Недели 9-10: Databases**

- SQL (`sqlx` + Postgres) vs NoSQL (`redis`). Оптимизация запросов, пулы соединений.
- Практика: Реализовать шардирование задач по пользователям в `Task Tracker`.  
  _Задание:_ Добавить кеширование метрик задач в Redis.

#### **Недели 11-12: Async Rust Deep Dive**

- Futures, `tokio` (tasks, runtime), `async`/`.await`, питфоллы (deadlocks, блокирующий код).
- Практика: Асинхронный Email-нотификатор для `Task Tracker`.  
  _Задание:_ Обработка 10K конкурентных запросов с нагрузочным тестом (`locust`).

#### **Недели 13-14: Testing & CI/CD**

- Юнит/интеграционные/нагрузочные тесты (`mockall`, `testcontainers`). GitHub Actions.
- Практика: Настроить деплой `Task Tracker` в Docker на VM.  
  _Задание:_ Покрыть 80% кода тестами, добавить авто-деплой при пуше в `main`.

#### **Недели 15-16: Message Brokers & Background Jobs**

- `RabbitMQ`/`Kafka` + `lapin`. Фоновые воркеры для тяжёлых задач.
- Практика: Добавить в `Task Tracker` очередь для генерации PDF-отчётов.  
  _Задание:_ Обеспечить гарантированную доставку сообщений при падении воркера.

#### **Недели 17-18: Observability**

- Логи (`tracing` + `opentelemetry`), метрики (`prometheus`), трейсы (`jaeger`).
- Практика: Интегрировать мониторинг в `Task Tracker`, настроить Grafana-дашборд.  
  _Итог модуля:_ Отказоустойчивый сервис с метриками, тестами и CI/CD.

---

### **Модуль 3: High-Load & Optimization** (6 недель)

**Цель:** Паттерны для масштабирования, безопасность, перформанс. 10. **Недели 19-20: Optimization Techniques**

- Профилирование (`flamegraph`, `perf`), оптимизация аллокаций, `#![no_std]` где возможно.
- Практика: Уменьшить latency `Task Tracker` в 2 раза через кеш и batch-запросы.  
  _Задание:_ Найти bottleneck в коде через бенчмарки (`criterion`).

#### **Недели 21-22: Security & Advanced Patterns**

- OWASP топ-10 для Rust (XSS, инъекции), `#[derive(Zeroize)]`, JWT-аутентификация.
- Паттерны: CQRS, Event Sourcing.
- Практика: Добавить ролевую модель (RBAC) в `Task Tracker`.  
  _Задание:_ Провести аудит безопасности с `cargo-audit`, `trivy`.

#### **Недели 23-24: Distributed Systems & Final Project**

- Сервис-меши (`istio`), gRPC (`tonic`), управление конфигами (`config-rs`).
- _Финальное задание:_
  - Развернуть `Task Tracker` в кластере Kubernetes (minikube).
  - Реализовать rate-limiting и circuit breaker.
  - Провести нагрузочное тестирование 50K RPS.
  - Защита проекта: code review + демо с метриками.

---

### **Критерии перехода на Middle Level:**

1. Понимание **ownership/borrowing** без борьбы с компилятором.
2. Умение проектировать **асинхронные пайплайны** (например, цепочки обработки задач через брокер).
3. Опыт оптимизации **критического пути** (напр., уменьшение latency DB-запросов).
4. Навык написания **production-grade кода** (тесты, логирование, метрики из коробки).
5. Способность **профилировать** и **исправлять bottleneck** (CPU, memory, I/O).

---

### **Рекомендуемые инструменты:**

- **Фреймворки:** `axum`, `tokio`, `tower`.
- **Базы:** `PostgreSQL` (+ `sqlx`), `Redis` (+ `bb8`).
- **Брокеры:** `RabbitMQ` (`lapin`), `Kafka` (`rdkafka`).
- **Мониторинг:** `opentelemetry`, `prometheus`, `grafana`.
- **Тестирование:** `mockall`, `testcontainers-rs`, `fuzzing` (libfuzzer).

**Важно:** Каждую неделю — ревью кода от ментора. Фокус на code style (`clippy`), идиоматичность и безопасность (unsafe audit).

Программа интенсивная, но основана на опыте взращивания разработчиков для систем с >100K RPS. Готовьтесь к боли в первых модулях — это путь к мастерству в Rust!
